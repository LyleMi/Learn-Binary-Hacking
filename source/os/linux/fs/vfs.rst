虚拟文件系统
========================================

简介
----------------------------------------
Linux 以一组通用对象的角度看待所有文件系统。虚拟文件系统(Virtual Filesystem Switch, VFS)是在具体的文件系统之上抽象的一层，用来处理与Posix文件系统相关的所有调用。
VFS提供给各种文件系统提供一个通用的接口，使上层的应用程序能够使用通用的接口访问不同文件系统，同时也为不同文件系统的通信提供了媒介。

在用户态使用read/write系统调用后，会对应至内核的vfs\_read/vfs\_write。

基本的对象
----------------------------------------
VFS定义了superblock、inode、dentry和file四种基本的对象。

superblock 是文件系统最基本的元数据，用于描述和维护文件系统的状态。它存储了文件系统的信息，包括文件系统名称、文件系统的大小和状态、块设备的引用和元数据信息（比如空闲列表等等）。

inode，也称索引节点，表示文件系统中的一个对象，它具有惟一标识符。inode包含管理文件系统中的对象所需的所有元数据，描述文件、目录、设备文件、socket、管道等文件系统对象，每个inode保存了文件系统对象数据的属性和磁盘块位置。文件系统对象属性包含了各种元数据，如权限、时间戳、flags等。各个文件系统提供将文件名映射为惟一 inode 标识符，对应关系可通过 `ls -id` 查看。

dentry是directory entry的缩写，用来实现名称和 inode 之间的映射，是目录项缓存，是存放在内存里的缩略版的磁盘文件系统目录树结构。

file记录了进程打开文件的上下文。

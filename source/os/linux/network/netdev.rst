网络设备
========================================

网桥
----------------------------------------
网桥(Bridge)也称桥接器，是连接两个局域网的存储转发设备，用它可以完成具有相同或相似体系结构网络系统的连接。

Linux网络协议栈已经支持了网桥的功能，但需要进行相关的配置才可以进行正常的转发。而要配置Linux网桥功能，需要配置工具bridge-utils，生成网桥配置的工具有brctl、ip等。

网桥可以理解为实现在内核中的二层交换机。

配置方法

::

    ip link add br0 type bridge
    ip link set br0 up
    ip link set br0 down

tun/tap
----------------------------------------
tun/tap 是一种主流的虚拟网卡方案，在 Linux 2.4 之后的内核都默认编译 tun/tap 的驱动，支持很多的类UNIX平台。

tun/tap 设备除了没有物理网卡的硬件功能外，功能和物理网卡是一致的。
tun 设备位于网络的三层，表示虚拟的是点对点设备。读取写入的都是 IP 数据包。
tap位于网络OSI模型的二层，tap表示虚拟的是以太网设备。读取写入的都是 MAC 层数据。

veth-pair
----------------------------------------
Virtual Ethernet Pair简称veth pair，是一对的虚拟设备接口，是一个成对的端口。所有从一端进入的数据包都将从另一端出来。

veth 在 Linux 2.6 之后的版本引入，用于支持网络命名空间的隔离，使得两个隔离的网络空间可以相互通信，这也是 veth 成对出现的原因。
Docker 的网桥模式就是通过 veth-pair 连接到 docker0 网桥进行通信的。

veth 可以通过 ``ip link add eth1-br1 type veth peer name phy-br1`` 命令创建。
